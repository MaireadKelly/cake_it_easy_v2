{% load static %}

<div class="modal fade"
     id="newsletterModal"
     tabindex="-1"
     role="dialog"
     aria-labelledby="newsletterModalLabel"
     aria-modal="true"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-3">
      <div class="modal-header">
        <p class="modal-title h5 mb-0" id="newsletterModalLabel">Join our newsletter</p>
        <button type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <p id="nl-hint" class="text-muted mb-3">Get exclusive offers and early access.</p>

        <!-- Signup form (modal) -->
        <form id="nl-form" method="post" action="{% url 'newsletter_subscribe' %}">
          {% csrf_token %}
          <div class="input-group">
            <input
              id="nl-email"
              name="email"
              type="email"
              class="form-control"
              placeholder="you@example.com"
              required
            >
            <button class="btn btn-primary" type="submit">Subscribe</button>
          </div>
          {% if form.errors.email %}
            <div class="text-danger small mt-2">{{ form.errors.email }}</div>
          {% endif %}
        </form>

        <!-- Success panel (hidden by default) -->
        <div id="nl-success" class="d-none mt-3">
          <div class="alert alert-success mb-2">
            Welcome aboard! Your code:
            <code id="nl-code">••••••</code>
          </div>
          <button id="nl-copy" type="button" class="btn btn-outline-secondary btn-sm">Copy</button>
          <span id="nl-copied" class="small ms-2 d-none">Copied</span>
        </div>
      </div>
    </div>
  </div>
</div>
