{% extends "base.html" %}
{% load static %}

{% block meta_description %}
Celebration cakes, cupcakes, custom designs, balloons & candles. Sign up for 10% off your first order. Free delivery over €50.
{% endblock %}

{% block content %}

<!-- HERO -->
<section class="hero container my-4">
  <div class="hero-card row no-gutters align-items-center">
    <!-- Text / CTAs -->
    <div class="col-lg-6 p-4 p-md-5">
      <span class="badge badge-pill badge-light text-uppercase mb-2">Fresh · Local · Made to order</span>
      <h1 class="display-5 font-weight-bold mb-2">Hand-made cakes for every celebration</h1>
      <p class="lead text-muted mb-4">
        From classic sponges to <em>one-of-a-kind</em> designs. Sign up and get <strong>10% off</strong> your first order.
      </p>
      <div class="d-flex flex-wrap gap-2">
        <a href="#newsletter" class="btn btn-primary btn-lg mr-2">Get 10% Off</a>
        <a href="{% url 'product_cakes' %}" class="btn btn-outline-secondary btn-lg">Shop Cakes</a>
      </div>
    </div>

    <!-- Image -->
    <div class="col-lg-6 text-center p-3 p-md-4">
      <img
        src="{% static 'images/hero-cake.jpg' %}"
        alt="Layered celebration cake with frosting and flowers"
        class="hero-img img-fluid rounded shadow-sm" />
    </div>
  </div>
</section>

<!-- QUICK CATEGORIES -->
<section class="container my-4">
  <div class="row">
    <div class="col-sm-6 col-lg-3 mb-3">
      <a class="tile card card-body text-center h-100" href="{% url 'product_cakes' %}">
        <img src="{% static 'images/tiles/cakes.png' %}" alt="" class="tile-icon mb-2">
        <h5 class="mb-0">Cakes</h5>
      </a>
    </div>
    <div class="col-sm-6 col-lg-3 mb-3">
      <a class="tile card card-body text-center h-100" href="{% url 'product_accessories' %}">
        <img src="{% static 'images/tiles/accessories.png' %}" alt="" class="tile-icon mb-2">
        <h5 class="mb-0">Accessories</h5>
      </a>
    </div>
    <div class="col-sm-6 col-lg-3 mb-3">
      <a class="tile card card-body text-center h-100" href="{% url 'custom_cake_list' %}">
        <img src="{% static 'images/tiles/custom.png' %}" alt="" class="tile-icon mb-2">
        <h5 class="mb-0">Design Your Own</h5>
      </a>
    </div>
    <div class="col-sm-6 col-lg-3 mb-3">
      <a class="tile card card-body text-center h-100" href="{% url 'product_offers' %}">
        <img src="{% static 'images/tiles/offers.png' %}" alt="" class="tile-icon mb-2">
        <h5 class="mb-0">Special Offers</h5>
      </a>
    </div>
  </div>
</section>

<!-- MINI USP STRIP -->
<section class="container my-4">
  <div class="card card-body usp">
    <div class="row text-center">
      <div class="col-12 col-md-4 mb-2 mb-md-0"><strong>Made Fresh</strong> daily</div>
      <div class="col-12 col-md-4 mb-2 mb-md-0"><strong>Secure</strong> Stripe checkout</div>
      <div class="col-12 col-md-4"><strong>Free Delivery</strong> over €50</div>
    </div>
  </div>
</section>

<!-- FEATURED / LATEST -->
{% if products %}
<section class="container my-4">
  <h2 class="h4 mb-3">Featured This Week</h2>
  <div class="row product-grid">
    {% for product in products|slice:":4" %}
      <div class="col-md-3 mb-3">
        <div class="card h-100">
          <div class="image-frame">
            {% if product.image %}
              <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% else %}
              <img src="{% static 'images/default.jpg' %}" alt="{{ product.name }}">
            {% endif %}
          </div>
          <div class="card-body d-flex flex-column">
            <h6 class="mb-1">{{ product.name }}</h6>
            <p class="text-muted mb-2">€{{ product.price|floatformat:2 }}</p>
            <a href="{% url 'product_detail' product.id %}" class="btn btn-outline-primary btn-sm mt-auto">View</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</section>
{% endif %}

{% endblock %}
